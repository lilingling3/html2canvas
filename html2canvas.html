<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>html2canvas example</title>
    <script src='js/jquery.min.js'></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
</head>

<body>
    <div id="view" style="background:url(image/bg.jpg) 50%; width: 700px; height: 500px;">
        <input type="button" value="截图" onclick="takeScreenshot()">
    </div>
    <script type="text/javascript">
        var w = $("#view").width();
        var h = $("#view").height();
        console.log(w,h)
        //要将 canvas 的宽高设置成容器宽高的 2 倍
        var canvas = document.createElement("canvas");
        canvas.width = w * 2;
        canvas.height = h * 2;
        canvas.style.width = w + "px";
        canvas.style.height = h + "px";
        var context = canvas.getContext("2d");
        //然后将画布缩放，将图像放大两倍画到画布上
        context.scale(2,2);
        function takeScreenshot() {
          console.log('test');
            html2canvas(document.getElementById('view'), {
                canvas: canvas,
                onrendered: function(canvas) {
                    document.body.appendChild(canvas);
                },
              width: 300,
              height: 300
            });
        }
</script>
</body>

</html>